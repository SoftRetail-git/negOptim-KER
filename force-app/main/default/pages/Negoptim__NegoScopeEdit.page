<apex:page standardController="Negoptim__NegoScope__c" extensions="Negoptim.NegoScopeEditController" lightningStylesheets="true" standardStylesheets="false"
           sidebar="false" applyHtmlTag="false" applyBodyTag="false" showHeader="false" docType="html-5.0">
    <html class="slds-scope">
        <head>
            <meta charset="utf-8" />
            <meta http-equiv="x-ua-compatible" content="ie=edge" />
            <title>{!$Label.LBL_EditNegoScope}</title>
            <apex:slds />
            <apex:stylesheet value="{!URLFOR($Resource.Assets, 'assets/css/app.css') }" />
            <apex:includeScript value="{!URLFOR($Resource.Negoptim__JQuery, 'jquery.min.js')}"/> <!-- JQuery is necessary for App.js -->
            <apex:includeScript value="{!URLFOR($Resource.Negoptim__Assets, 'assets/js/app.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.Negoptim__Assets, 'assets/js/Org_NegoScope_Edit.js')}" />
            
            <style>
                .normalFont {
                font-weight: normal !important;
                }
                header{
                font-weight: bold;
                }
                .tableStyle td {
                border-bottom: 10px solid;
                border-color: transparent;
                height: 40px;
                }
                .tableStyle th {
                border-bottom: 10px solid;
                border-color: transparent;
                height: 40px;
                }
                .col1 {
                width:15%;
                }
                .col2 {
                width:35%;
                padding-right:20px !important;
                }
                .col2 input,.col2 span,.col2 select,.col2 textarea {
                width:100%;
                }
                .structTable td, .structTable th{
                text-align: center;
                vertical-align: middle;
                }
                .OwnerIdStyle select {
                width:50%;
                }
                .OwnerIdStyle span.lookupInput {
                width:50%;
                }
                .OwnerIdStyle span.lookupInput input {
                width:100%;
                }
                .mysticky{
                z-index: 99;
                position: -webkit-sticky;
                position: sticky;
                top: 0;
                -webkit-transition: all 0.1s linear;
                -moz-transition: all 0.1s linear;
                -o-transition: all 0.1s linear;
                transition: all 0.1s linear;
                }
                .sticky {
                margin-left: 0 !important;
                margin-right: 0 !important;
                border-radius: 0 !important;
                }
                body .message, .slds-vf-scope .message{
                margin-bottom: 0 !important;
                }
            </style>
        </head>
        
        <body class="slds-brand-band slds-brand-band_large">
            <div class="slds-m-horizontal_small">
                <apex:pageMessages id="Messages" escape="false" />
            </div>
            <apex:form id="formNegoScope">
                <div id="welcomeLoading" class="slds-hide">
                    <div class="slds-spinner_container">
                        <div role="status" class="slds-spinner slds-spinner_large">
                            <span class="slds-assistive-text">{!JSINHTMLENCODE($Label.Loading)}</span>
                            <div class="slds-spinner__dot-a"></div>
                            <div class="slds-spinner__dot-b"></div>
                        </div>
                    </div>
                </div>
                <apex:actionStatus id="globalloading">
                    <apex:facet name="start">
                        <div class="slds-spinner_container">
                            <div role="status" class="slds-spinner slds-spinner_large">
                                <span class="slds-assistive-text">
                                    {!JSINHTMLENCODE($Label.Loading)}
                                </span>
                                <div class="slds-spinner__dot-a"></div>
                                <div class="slds-spinner__dot-b"></div>
                            </div>
                        </div>
                    </apex:facet>
                </apex:actionStatus>
                <apex:actionPoller id="batchesActionPoller" action="{!checkBatchProgess}" enabled="{!batchInProgress}"
                               reRender="Messages, pollerLoading" interval="5" />
                <apex:actionFunction action="{!processSelection}" name="onProcessSelection"/>
                <apex:actionFunction action="{!filterPG}" name="selectAllHighlighted" reRender="Messages" oncomplete="enableSaveButton();" >
                    <apex:param assignTo="{!includeNullBrands}" name="includeNullBrands" value="" />
                </apex:actionFunction>
                <apex:actionFunction name="onChangeSupplier" action="{!onChangeSupplier}" reRender="formNegoScope" oncomplete="afterReRender();" />
                <apex:actionFunction name="saveNego" action="{!saveNegoScope}" status="globalloading" reRender="Messages, infoSection, batchesActionPoller, pollerLoading"
                                     oncomplete="afterReRender();"/>
                <apex:actionFunction name="first" action="{!first}" status="globalloading" reRender="pageBlockSectionPG, Messages, highlightJS"
                                     oncomplete="afterReRender();"/>
                <apex:actionFunction name="previous" action="{!previous}" status="globalloading" reRender="pageBlockSectionPG, Messages, highlightJS"
                                     oncomplete="afterReRender();"/>
                <apex:actionFunction name="next" action="{!next}" status="globalloading" reRender="pageBlockSectionPG, Messages, highlightJS"
                                     oncomplete="afterReRender();"/>
                <apex:actionFunction name="last" action="{!last}" status="globalloading" reRender="pageBlockSectionPG, Messages, highlightJS"
                                     oncomplete="afterReRender();"/>
                <apex:actionFunction name="viewChangeAddress" action="{!setAddressFromSupplier}" reRender="contactspanel, Messages" status="globalloading"
                                     oncomplete="afterReRender();">
                    <apex:param name="isContactShow"
                                value=""
                                assignTo="{!isContactShow}" />
                </apex:actionFunction>
                <apex:actionFunction name="unselectElt" action="{!unselectElement}" reRender="listStructureElementsPanel,productTableContent,pageBlockSectionPG" status="globalloading"
                                     oncomplete="processDisplayProduct();afterReRender();">
                    <apex:param name="unselectElementId"
                                value=""
                                assignTo="{!elementIdToSelect}" />
                </apex:actionFunction>
                <apex:actionFunction name="refreshPageSize" action="{!refreshPageSize}" status="globalloading" reRender="pgTable, productTableControl, BUTable, BUTableControl, Messages, highlightJS, productTableContent" oncomplete="afterReRender()"/>
                <apex:actionFunction name="cancel" action="{!cancelEdit}" immediate="true"/>
                <apex:actionFunction name="refreshChildren" action="{!refresh}" status="globalloading" reRender="elementstree,Messages, highlightJS" oncomplete="afterReRender()">
                    <apex:param name="searchValue" assignTo="{!structureElementFilter}" value=""/>
                    <apex:param name="emptyStructureElementFilter" value="false" assignTo="{!emptyStructureElementFilter}" />
                </apex:actionFunction>
                <apex:actionFunction name="refreshSupPGMapping" action="{!searchPGMapping}" status="globalloading" reRender="Messages, productTableControl, highlightJS, productTableContent" oncomplete="afterReRender();" >
                    <apex:param name="searchValue" assignTo="{!supPGMappingFilter}" value=""/>
                </apex:actionFunction>
                <apex:actionFunction name="onlyDisplayFilterPG" action="{!onlyDisplayFilterPG}" status="globalloading" reRender="Messages, productTableControl, highlightJS, productTableContent, pageBlockSectionPG" oncomplete="afterReRender();" >
                    <apex:param name="isShowAllProduct" value=""/>
                </apex:actionFunction>
                <apex:actionFunction name="refreshBrandType" action="{!getBrandDistributorList}" status="globalloading" reRender="brandTableContent, Messages, highlightJS" oncomplete="afterReRender()" >
                    <apex:param name="searchValue" assignTo="{!brandTypeFilter}" value=""/>
                </apex:actionFunction>
                <apex:actionFunction name="addAllElement" action="{!addAllElement}" status="globalloading" reRender="selected_elements,elementstree,title,productTableContent,pageBlockSectionPG" oncomplete="processDisplayProduct();afterReRender()"/>
                <apex:actionFunction name="resetSearchFilters" action="{!resetSearchFilters}" status="globalloading" reRender="Messages,formNegoScope" oncomplete="afterReRender()" >
                    <apex:param name="searchItemString" value=""/>
                </apex:actionFunction>
                <apex:actionFunction name="getBrandDistributorList" action="{!getBrandDistributorList}" status="globalloading" reRender="listBrandsPanel, Messages, highlightJS, productTableContent" oncomplete="afterReRender()" />
                <!-- NS Cration Info Message -->
                <div id="infoMessage" class="slds-hide">
                    <apex:outputPanel rendered="{!OR(!editMode, AND(cloneMode, parentNegoScopeIdParam != NULL))}" layout="block" styleClass="slds-p-horizontal_small slds-p-top_small"
                                      onclick="openInfoMessage = !openInfoMessage;toggleInfoMessage();return false">
                        <div class="slds-scoped-notification slds-media slds-media_center slds-theme_info" role="status">
                            <div class="slds-media__figure">
                                <span class="slds-icon_container slds-icon-utility-info" title="info" id='infoContainer'>
                                    <svg class="slds-icon slds-icon_small" aria-hidden="true" >
                                        <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                             xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#info"></use>
                                    </svg>
                                    <span class="slds-assistive-text">info</span>
                                </span>
                            </div>
                            <div class="slds-media__body">
                                <apex:outputText rendered="{!OR(!editMode, AND(cloneMode, parentNegoScopeIdParam != NULL))}" value="{!$Label.negoptim__MSG_NS_Creation_Hints}" escape="false"/>
                            </div>
                        </div>
                    </apex:outputPanel>
                </div>

                <!-- PAGE HEADER -->
                <div class="slds-page-header slds-m-around_small slds-clearfix mysticky" id="pageHeader">
                    <!-- LAYOUT GRID -->
                    <div class="slds-grid">
                        <!-- GRID COL -->
                        <div class="slds-col slds-has-flexi-truncate">
                            <div class="slds-media slds-no-space slds-grow">
                                <div class="slds-media__figure">
                                    <svg aria-hidden="true" class="slds-icon slds-icon-standard-contact" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <use xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/standard-sprite/svg/symbols.svg#report')}"></use>
                                    </svg>
                                </div>
                                <div class="slds-media__body">
                                    <p class="slds-text-title_caps slds-line-height_reset">
                                        <apex:outputText value="{!$ObjectType.Negoptim__NegoScope__c.Label}" />
                                    </p>
                                    <h1 class="slds-page-header__title slds-m-right_small slds-align-middle slds-truncate">
                                        <apex:outputText value="{!IF(editMode==FALSE,$Label.negoptim__LBL_NewNegoScope,negoScope.Name)}" />
                                    </h1>
                                </div>
                            </div>
                        </div>
                        <div class="slds-col slds-no-flex slds-grid slds-align-top">
                            <!-- toggle info button -->
                            <apex:outputPanel rendered="{!OR(!editMode, AND(cloneMode, parentNegoScopeIdParam != NULL))}">
                                <button id="filter-panel-toggle"
                                        class="slds-button slds-button_icon slds-button_icon-border-filled slds-m-right_xx-small"
                                        title="{!$Label.LBL_Filter}" onclick="openInfoMessage = !openInfoMessage;toggleInfoMessage();return false;">
                                    <svg class="slds-button__icon" aria-hidden="true">
                                        <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#help')}"/>
                                    </svg>
                                    <span class="slds-assistive-text">{!$Label.negoptim__LBL_Help}</span>
                                </button>
                            </apex:outputPanel>
                            <div role="group">
                                <button class="slds-button slds-button_neutral" onclick="cancelEvent(); return false;">{!$Label.LBL_Cancel}</button>
                                <button id="saveButton" class="slds-button slds-button_brand" onclick="saveNego();return false;">{!$Label.LBL_Save}</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-p-horizontal_small content">
                    <apex:outputPanel id="infoSection" layout="block" styleclass="slds-card slds-m-bottom_x-small">
                        <div class="slds-card__header slds-grid">
                            <header class="slds-media slds-media--center slds-has-flexi-truncate">
                                <div class="slds-media__body">
                                    <h2 class="header-title-container slds-grid">
                                        <span class="slds-card__header-title slds-truncate" title="{!$Label.Negoptim__LBL_Information}">{!$Label.Negoptim__LBL_Information}</span>
                                    </h2>
                                </div>
                            </header>
                            <div class="slds-no-flex">
                            </div>
                        </div>
                        <div class="slds-card__body slds-card__body_inner">
                            <div class="slds-grid slds-wrap">
                                <!-- NS_Code__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.NS_Code__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__NS_Code__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('NS_Code__c');" onmouseleave="HideToolTip('NS_Code__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_NS_Code__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.NS_Code__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField value="{!negoScope.Negoptim__NS_Code__c}" required="true" onkeypress="return submitByEnterKey(event);" rendered="{!!cloneMode}"/>
                                </div>
                                <!-- Is_All_HE__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Is_All_HE__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Is_All_HE__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Is_All_HE__c');" onmouseleave="HideToolTip('Is_All_HE__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Is_All_HE__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Is_All_HE__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c != null}">
                                        <apex:inputField styleClass="allhecheckobx" value="{!negoScope.Negoptim__Is_All_HE__c}">
                                            <apex:actionSupport event="onchange" action="{!init}" reRender="listStructureElementsPanel, Messages, highlightJS, pageBlockSectionPG" status="globalloading"
                                                            oncomplete="afterReRender();processDisplayProduct();"/>
                                        </apex:inputField>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c == null}">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control">
                                                <div class="slds-checkbox">
                                                    <input type="checkbox" name="options" id="checkbox-unique-id-1143" value="checkbox-unique-id-1143" disabled="true" checked="true" />
                                                    <label class="slds-checkbox__label" for="checkbox-unique-id-1143">
                                                        <span class="slds-checkbox_faux"></span>
                                                        <span class="slds-form-element__label"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <!-- Supplier__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Supplier__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Supplier__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Supplier__c');" onmouseleave="HideToolTip('Supplier__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Supplier__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Supplier__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField onchange="onChangeSupplier();return false;" onkeypress="return submitByEnterKey(event);" value="{!negoScope.Negoptim__Supplier__c}" rendered="{!!editMode}" />
                                    <apex:outputField value="{!negoScope.Negoptim__Supplier__c}" rendered="{!editMode}" />
                                </div>
                                <!-- Is_All_Brands__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Is_All_Brands__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Is_All_Brands__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Is_All_Brands__c');" onmouseleave="HideToolTip('Is_All_Brands__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Is_All_Brands__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Is_All_Brands__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c != null}">
                                        <apex:inputField styleClass="allbrandcheckbox" value="{!negoScope.Negoptim__Is_All_Brands__c}" onchange="getBrandDistributorList();processDisplayProduct();return false;"/>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c == null}">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control">
                                                <div class="slds-checkbox">
                                                    <input type="checkbox" name="options" id="checkbox-unique-id-1153" value="checkbox-unique-id-1153" disabled="true" checked="true" />
                                                    <label class="slds-checkbox__label" for="checkbox-unique-id-1153">
                                                        <span class="slds-checkbox_faux"></span>
                                                        <span class="slds-form-element__label"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <!-- OwnerId -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.OwnerId.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.OwnerId.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('OwnerId');" onmouseleave="HideToolTip('OwnerId');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_OwnerId slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.OwnerId.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small OwnerIdStyle">
                                    <apex:inputField value="{!negoScope.OwnerId}" onkeypress="return submitByEnterKey(event);" required="true"/>
                                </div>
                                <!-- Is_All__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Is_All__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Is_All__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Is_All__c');" onmouseleave="HideToolTip('Is_All__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Is_All__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Is_All__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c != null}">
                                        <apex:inputField value="{!negoScope.Negoptim__Is_All__c}">
                                            <apex:actionSupport event="onchange" action="{!getProductList}" reRender="pageBlockSectionPG, Messages, highlightJS" status="globalloading"
                                                                oncomplete="afterReRender();" />
                                        </apex:inputField>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!negoScope.Negoptim__Supplier__c == null}">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control">
                                                <div class="slds-checkbox">
                                                    <input type="checkbox" name="options" id="checkbox-unique-id-115" value="checkbox-unique-id-115" disabled="true" checked="true" />
                                                    <label class="slds-checkbox__label" for="checkbox-unique-id-115">
                                                        <span class="slds-checkbox_faux"></span>
                                                        <span class="slds-form-element__label"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <!-- Brand_Type__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Brand_Type__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Brand_Type__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Brand_Type__c');" onmouseleave="HideToolTip('Brand_Type__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Brand_Type__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Brand_Type__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField value="{!negoScope.Negoptim__Brand_Type__c}">
                                        <apex:actionSupport event="onchange" action="{!getBrandDistributorList}" reRender="listBrandsPanel, Messages, productTableContent, pageBlockSectionPG"
                                                            status="globalloading" oncomplete="processDisplayProduct();afterReRender();"/>
                                    </apex:inputField>
                                </div>
                                <!-- Status__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Status__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Status__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Status__c');" onmouseleave="HideToolTip('Status__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Status__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Status__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField value="{!negoScope.Negoptim__Status__c}"/>
                                </div>
                                <!-- NS_Code_Prefix__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.NS_Code_Prefix__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__NS_Code_Prefix__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('NS_Code_Prefix__c');" onmouseleave="HideToolTip('NS_Code_Prefix__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_NS_Code_Prefix__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.NS_Code_Prefix__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField value="{!negoScope.Negoptim__NS_Code_Prefix__c}" onkeypress="return submitByEnterKey(event);" />
                                </div>
                                 <!-- CurrencyISOCode -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.CurrencyISOCode.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.CurrencyISOCode.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('CurrencyISOCode');" onmouseleave="HideToolTip('CurrencyISOCode');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_CurrencyISOCode slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.CurrencyISOCode.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:outputPanel rendered="{!negoScope != null}">
                                        <apex:inputField value="{!negoScope.CurrencyISOCode}"/>
                                    </apex:outputPanel>
                                </div>
                                <!-- Name -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Name.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Name.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Name');" onmouseleave="HideToolTip('Name');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Name slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Name.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField style="width:75%;" value="{!negoScope.Name}" id="negoname" onkeypress="return submitByEnterKey(event);"
                                                     onfocus="var temp_value=this.value; this.value=''; this.value=temp_value"
                                                     styleClass="negoscopeName"/>&nbsp;
                                    <apex:commandLink style="width:25%;" styleClass="generateLink" action="{!refreshNsName}" status="globalloading"
                                                      reRender="formNegoScope" oncomplete="afterReRender('focus');" >{!$Label.negoptim__LBL_Generate_Name}
                                    </apex:commandLink>
                                </div>
                                <!-- Parent_Nego_Scope__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    <apex:outputPanel layout="none" rendered="{!recordTypes[currentRecordType]=='Sub_NS'}">
                                        {!$ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Parent_Nego_Scope__c.Label}
                                        <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Parent_Nego_Scope__c.inlineHelpText), false, true)}">
                                            <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                    onmouseover="showToolTip('Parent_Nego_Scope__c');" onmouseleave="HideToolTip('Parent_Nego_Scope__c');" onclick="return false;">
                                                <svg class="slds-button__icon" aria-hidden="true">
                                                    <use xmlns="http://www.w3.org/2000/svg"
                                                         xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                </svg>
                                                <span class="slds-assistive-text"></span>
                                            </button>
                                            <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Parent_Nego_Scope__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Parent_Nego_Scope__c.inlineHelpText}</div>
                                            </div>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField rendered="{!recordTypes[currentRecordType]=='Sub_NS'}" value="{!negoScope.Negoptim__Parent_Nego_Scope__c}"
                                                     onkeypress="return submitByEnterKey(event);" required="{!IF(AND(currentRecordType != null, recordTypes[currentRecordType] == 'Sub_NS'), true, false)}"/>
                                </div>
                                <!-- Comment__c -->
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.Comment__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Comment__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('Comment__c');" onmouseleave="HideToolTip('Comment__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Comment__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Comment__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:inputField value="{!negoScope.Negoptim__Comment__c}" required="false"/>
                                </div>
                                
                                <div class="slds-col col1 slds-p-around--xx-small">
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                </div>
                                
                                 <!-- NS_Code_Temp__c -->
                                <!--
                                <div class="slds-col col1 slds-p-around--xx-small">
                                    {!$ObjectType.NegoScope__c.fields.NS_Code_Temp__c.Label}
                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.NS_Code_Temp__c.inlineHelpText), false, true)}">
                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                onmouseover="showToolTip('NS_Code_Temp__c');" onmouseleave="HideToolTip('NS_Code_Temp__c');" onclick="return false;">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xmlns="http://www.w3.org/2000/svg"
                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                            </svg>
                                            <span class="slds-assistive-text"></span>
                                        </button>
                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner NS_Code_Temp__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.NS_Code_Temp__c.inlineHelpText}</div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <apex:outputField value="{!negoScope.NS_Code_Temp__c}"/>
                                </div>
                                -->
                                <!-- LBL_Change_Addresses -->
                                <!--<div class="slds-col col1 slds-p-around--xx-small">
                                    {!$Label.LBL_Change_Addresses}
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                    <div class="slds-form-element__control slds-m-bottom_x-small">
                                        <div class="slds-radio_button-group">
                                            <span class="slds-button slds-radio_button">
                                                <input name="radio" type="radio" id="Target" value="{!isContactShow}" onclick="viewChangeAddress(true);" checked="{!isContactShow}"/>
                                                <label class="slds-radio_button__label" style="margin-right:unset;line-height:unset;" for="Target">
                                                    <span class="slds-radio_faux">{!$Label.LBL_Show}</span>
                                                </label>
                                            </span>
                                            <span class="slds-button slds-radio_button">
                                                <input name="radio" type="radio" id="Nego" value="{!isContactShow}" onclick="viewChangeAddress(false);" checked="{!isContactShow}"/>
                                                <label class="slds-radio_button__label" style="margin-right:unset;line-height:unset;" for="Nego">
                                                    <span class="slds-radio_faux">{!$Label.LBL_Hide}</span>
                                                </label>
                                            </span>
                                        </div>
                                    </div>
                                </div>-->
                                                                
                                <apex:outputPanel layout="none" rendered="{!IF(AND(currentRecordType != null, recordTypes[currentRecordType] == 'Sub_NS'), true, false)}">
                                    <apex:repeat value="{!$ObjectType.Negoptim__NegoScope__c.FieldSets.Negoptim__FS_Sub_NS}" var="field">
                                        <apex:outputPanel layout="block" styleClass="slds-col col1 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            {!field.label}
                                            <apex:outputPanel layout="none" rendered="{!AND(CONTAINS(fieldSetHelpTextMapKeys_Serialized, field.fieldPath),!ISBLANK(fieldSetHelpTextMap[field.fieldPath]))}">
                                                <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                        onmouseover="showToolTip('{!field.fieldPath}');" onmouseleave="HideToolTip('{!field.fieldPath}');" onclick="return false;">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg"
                                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                    </svg>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                                <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_{!field.fieldPath} slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                    <div class="slds-popover__body">{!fieldSetHelpTextMap[field.fieldPath]}</div>
                                                </div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:outputPanel layout="block" styleClass="slds-col col2 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), OR(field.fieldPath == prefix + 'Master_BU__c', field.fieldPath == prefix + 'Family__c'))}"
                                                             onchange="refreshSupPGMapping();"/>
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), field.fieldPath != prefix + 'Master_BU__c', field.fieldPath != prefix + 'Family__c')}"/>
                                            <apex:outputField value="{!negoScope[field]}" rendered="{!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false)}"/>
                                        </apex:outputPanel>
                                    </apex:repeat>
                                </apex:outputPanel>
                                <apex:outputPanel layout="none" rendered="{!IF(AND(currentRecordType != null, recordTypes[currentRecordType] == 'NS_Project'), true, false)}">
                                    <apex:repeat value="{!$ObjectType.Negoptim__NegoScope__c.FieldSets.Negoptim__FS_In_Preparation}" var="field">
                                        <apex:outputPanel layout="block" styleClass="slds-col col1 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            {!field.label}
                                            <apex:outputPanel layout="none" rendered="{!AND(CONTAINS(fieldSetHelpTextMapKeys_Serialized, field.fieldPath),!ISBLANK(fieldSetHelpTextMap[field.fieldPath]))}">
                                                <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                        onmouseover="showToolTip('{!field.fieldPath}');" onmouseleave="HideToolTip('{!field.fieldPath}');" onclick="return false;">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg"
                                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                    </svg>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                                <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_{!field.fieldPath} slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                    <div class="slds-popover__body">{!fieldSetHelpTextMap[field.fieldPath]}</div>
                                                </div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:outputPanel layout="block" styleClass="slds-col col2 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), OR(field.fieldPath == prefix + 'Master_BU__c', field.fieldPath == prefix + 'Family__c'))}"
                                                             onchange="refreshSupPGMapping();"/>
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), field.fieldPath != prefix + 'Master_BU__c', field.fieldPath != prefix + 'Family__c')}"/>
                                            <apex:outputField value="{!negoScope[field]}" rendered="{!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false)}"/>
                                        </apex:outputPanel>
                                    </apex:repeat>
                                </apex:outputPanel>
                                <apex:outputPanel layout="none" rendered="{!IF(AND(currentRecordType != null, recordTypes[currentRecordType] == 'Regular'), true, false)}">
                                    <apex:repeat value="{!$ObjectType.Negoptim__NegoScope__c.FieldSets.Negoptim__FS_Regular}" var="field">
                                        <apex:outputPanel layout="block" styleClass="slds-col col1 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            {!field.label}
                                            <apex:outputPanel layout="none" rendered="{!AND(CONTAINS(fieldSetHelpTextMapKeys_Serialized, field.fieldPath),!ISBLANK(fieldSetHelpTextMap[field.fieldPath]))}">
                                                <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                        onmouseover="showToolTip('{!field.fieldPath}');" onmouseleave="HideToolTip('{!field.fieldPath}');" onclick="return false;">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg"
                                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                    </svg>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                                <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_{!field.fieldPath} slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                    <div class="slds-popover__body">{!fieldSetHelpTextMap[field.fieldPath]}</div>
                                                </div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:outputPanel layout="block" styleClass="slds-col col2 slds-p-around_xx-small" rendered="{!IF(CONTAINS(fieldNames, field.fieldPath), false, true)}">
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), OR(field.fieldPath == prefix + 'Master_BU__c', field.fieldPath == prefix + 'Family__c'))}"
                                                             onchange="refreshSupPGMapping();"/>
                                            <apex:inputField value="{!negoScope[field]}" required="{!field.dbRequired || field.required}" styleClass="{!IF(CONTAINS(userLookupFields, field.fieldPath),'OwnerIdStyle','')}"
                                                             onkeypress="return submitByEnterKey(event);" rendered="{!AND(!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false), field.fieldPath != prefix + 'Master_BU__c', field.fieldPath != prefix + 'Family__c')}"/>
                                            <apex:outputField value="{!negoScope[field]}" rendered="{!IF(CONTAINS(referenceFieldsOfFieldSet, field.fieldPath), true, false)}"/>
                                        </apex:outputPanel>
                                    </apex:repeat>
                                </apex:outputPanel>
                                <div class="slds-col col1 slds-p-around--xx-small">
                                </div>
                                <div class="slds-col col2 slds-p-around--xx-small">
                                </div>
                            </div>
                        </div>
                    </apex:outputPanel>
                    <!-- Structre Element Grid  -->
                    <apex:outputPanel id="listStructureElementsPanel">
                        <apex:outputPanel rendered="{!negoScope.Negoptim__Is_All_HE__c == false}">
                            <div class="slds-card slds-m-bottom_x-small">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title slds-p-bottom_xx-small">
                                                {!$Label.negoptim__LBL_StructureElements}
                                            </h2>
                                        </div>
                                    </header>
                                </div>
                                <div class="slds-card__body slds-card__body_inner">
                                    <div class="slds-form" role="list">
                                        <div class="slds-form__row">
                                            <div class="slds-form__item" role="listitem">
                                                <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                    <div class="slds-grid slds-gutters">
                                                        <div class="slds-tabs--path slds-col {!IF(currentElement.Negoptim__Level__c == 0,'slds-size_6-of-12','slds-size_7-of-12')}" role="application">
                                                            <ul class="slds-tabs--path__nav" role="tablist">
                                                                <apex:outputPanel layout="none" rendered="{!currentElement.Parent_Element__r.Parent_Element__r.Name != null}">
                                                                    <li class="slds-tabs--path__item slds-is-incomplete" role="presentation" style="flex:unset;">
                                                                        <apex:commandLink action="{!refresh}"
                                                                                          reRender="elementstree,messages,formNegoScope"
                                                                                          status="globalloading"
                                                                                          oncomplete="afterReRender();" styleClass="slds-tabs--path__link">
                                                                            <apex:param name="currentElemId"
                                                                                        value="{!currentElement.Parent_Element__r.Negoptim__Parent_Element__c}"
                                                                                        assignTo="{!currentElementId}" />
                                                                            <apex:param name="emptyStructureElementFilter"
                                                                                        value="true"
                                                                                        assignTo="{!emptyStructureElementFilter}" />
                                                                            <span class="slds-tabs--path__title slds-align_absolute-center"> {!currentElement.Parent_Element__r.Parent_Element__r.Name} </span>
                                                                        </apex:commandLink>
                                                                    </li>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="none" rendered="{!currentElement.Parent_Element__r.Name != null}">
                                                                    <li class="slds-tabs--path__item slds-is-incomplete" role="presentation" style="flex:unset;">
                                                                        <apex:commandLink action="{!refresh}"
                                                                                          reRender="elementstree,Messages,formNegoScope" oncomplete="afterReRender();"
                                                                                          status="globalloading" styleClass="slds-tabs--path__link">
                                                                            <apex:param name="currentElemId"
                                                                                        value="{!currentElement.Negoptim__Parent_Element__c}"
                                                                                        assignTo="{!currentElementId}" />
                                                                            <apex:param name="emptyStructureElementFilter"
                                                                                        value="true"
                                                                                        assignTo="{!emptyStructureElementFilter}" />
                                                                            <span class="slds-tabs--path__title slds-align_absolute-center">{!currentElement.Parent_Element__r.Name}</span>
                                                                        </apex:commandLink>
                                                                    </li>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="none">
                                                                    <li class="slds-tabs--path__item slds-is-incomplete" role="presentation" style="flex:unset;">
                                                                        <apex:commandLink action="{!refresh}" reRender="elementstree,formNegoScope"
                                                                                          oncomplete="afterReRender();" styleClass="slds-tabs--path__link">
                                                                            <apex:param name="currentElemId" value="{!currentElement.Id}"
                                                                                        assignTo="{!currentElementId}" />
                                                                            <apex:param name="emptyStructureElementFilter"
                                                                                        value="true"
                                                                                        assignTo="{!emptyStructureElementFilter}" />
                                                                            <span class="slds-tabs--path__title slds-align_absolute-center">{!currentElement.Name}</span>
                                                                        </apex:commandLink>
                                                                    </li>
                                                                </apex:outputPanel>
                                                            </ul>
                                                        </div>
                                                        <div class="slds-col {!IF(currentElement.Level__c == 0,'slds-size_6-of-12','slds-size_5-of-12 slds-m-horizontal--small')} slds-grid slds-grid_align-end">
                                                            <div id="searchStructureElementSection" class="slds-col slds-form-element">
                                                                <div class="slds-input-has-icon slds-input-has-icon_left-right">
                                                                    <svg class="slds-icon slds-input__icon slds-icon-text-default slds-m-around--x-small" aria-hidden="true">
                                                                        <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#search')}"/>
                                                                    </svg>
                                                                    <input type="text" id="structureElementFilterId" class="slds-input inputNoEnter"
                                                                           placeholder="{!$Label.LBL_Search_Element}" onkeyup="searchItemFunction(this,'StructureElement',event);"/>
                                                                    <button class="clearButtonStructureElement slds-button slds-button_icon slds-input__icon slds-input__icon_right {!IF(structureElementFilter == null || structureElementFilter == '','slds-hide','')}" title="Clear" onClick="resetSearchFilters('StructureElement');return false;">
                                                                        <svg class="slds-button__icon" aria-hidden="true">
                                                                            <use xmlns="http://www.w3.org/2000/svg"
                                                                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                                 xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#clear')}"/>
                                                                        </svg>
                                                                        <span class="slds-assistive-text">Clear</span>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <apex:outputPanel layout="none" rendered="{!currentElement.Negoptim__Level__c == 0}" >
                                                                <div id="addRoot-{!currentElement.Id}" class="slds-grid">
                                                                    <button class="slds-button slds-button_icon slds-button_icon-border-filled" title="{!$Label.LBL_Add} {!currentElement.Name}" onClick="addAllElement();return false;" >
                                                                        <svg class="slds-button__icon slds-button__icon_hint" aria-hidden="true">
                                                                            <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                                 xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#add')}"/>
                                                                        </svg>
                                                                    </button>
                                                                </div>
                                                            </apex:outputPanel>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="slds-form__item" role="listitem">
                                                <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                    <apex:outputPanel id="title">
                                                        <br/>
                                                        <apex:outputText > {!$Label.LBL_SelectedStructureElements}
                                                            ({!wNegoScopeElementList.size}): &nbsp;</apex:outputText>
                                                    </apex:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-form__row">
                                            <div class="slds-form__item" role="listitem">
                                                <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                    <apex:outputPanel id="elementstree">
                                                        <table class="structTable slds-table slds-table_cell-buffer slds-table_bordered slds-border_right slds-border_left" id="elementslisttable">
                                                            <thead>
                                                                <tr class="slds-line-height_reset">
                                                                    <th scope="col">
                                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Orga_HE__c.fields.Negoptim__Elt_Code__c.Label}</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Orga_HE__c.fields.Name.Label}</div>
                                                                    </th>
                                                                    <th scope="col">
                                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Supplier_NS_HE__c.fields.Negoptim__Choice__c.Label}</div>
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <apex:repeat value="{!childElementsWrapped}" var="wElement">
                                                                    <tr id="{!wElement.element.Id}">
                                                                        <td>
                                                                            <div class="slds-truncate">
                                                                                <apex:outputField value="{!wElement.element.Negoptim__Elt_Code__c}" />
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate">
                                                                                <apex:commandLink action="{!refresh}"
                                                                                                  reRender="elementstree,Messages,formNegoScope"
                                                                                                  oncomplete="afterReRender();" status="globalloading">
                                                                                    <apex:param name="currentElemId"
                                                                                                value="{!wElement.element.Id}"
                                                                                                assignTo="{!currentElementId}" />
                                                                                    <apex:param name="emptyStructureElementFilter"
                                                                                                value="true"
                                                                                                assignTo="{!emptyStructureElementFilter}" />
                                                                                    {!wElement.element.Name}
                                                                                </apex:commandLink>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="slds-truncate">
                                                                                <apex:selectList style="width:100%;" value="{!wElement.negoScopeElem.Negoptim__Choice__c}"
                                                                                                 multiselect="false" size="1">
                                                                                    <apex:selectOptions value="{!choiceOptions}" />
                                                                                    <apex:actionSupport event="onchange"
                                                                                                        action="{!selectElement}"
                                                                                                        reRender="selected_elements,elementstree,Messages,title,listStructureElementsPanel"
                                                                                                        oncomplete="afterReRender();processDisplayProduct();" status="globalloading">
                                                                                        <apex:param name="elemIdToSelect"
                                                                                                    value="{!wElement.element.Id}"
                                                                                                    assignTo="{!elementIdToSelect}" />
                                                                                    </apex:actionSupport>
                                                                                </apex:selectList>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </apex:repeat>
                                                            </tbody>
                                                        </table>
                                                    </apex:outputPanel>
                                                </div>
                                            </div>
                                            <div class="slds-form__item" role="listitem">
                                                <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                    <apex:outputPanel id="selected_elements" layout="block">
                                                        <table id="selected-structure-element-table" class="structTable slds-table slds-table_cell-buffer slds-table_bordered slds-border_right slds-border_left" data-page-size="50">
                                                            <thead>
                                                                <tr class="slds-line-height_reset">
                                                                    <th>{!$ObjectType.Supplier_NS_HE__c.fields.Name.Label}</th>
                                                                    <th data-type="text" data-sort-initial="ascending">{!$ObjectType.Supplier_NS_HE__c.fields.Structure_Element__c.Label}</th>
                                                                    <th>{!$ObjectType.Supplier_NS_HE__c.fields.Choice__c.Label}</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <apex:repeat value="{!wNegoScopeElementList}" var="nsew">
                                                                    <tr id="{!nsew.negoScopeElem.Negoptim__Choice__c}-{!nsew.negoScopeElem.Negoptim__Structure_Element__c}-{!nsew.elementLevel}-{!nsew.elementPath}">
                                                                        <td><apex:outputText value="{!nsew.elementCode}" /></td>
                                                                        <td>
                                                                            <div class="slds-truncate">
                                                                                <apex:commandLink action="{!refresh}"
                                                                                                  reRender="elementstree,Messages,formNegoScope"
                                                                                                  oncomplete="afterReRender();" status="globalloading">
                                                                                    <apex:param name="currentElemId"
                                                                                                value="{!nsew.negoScopeElem.Negoptim__Structure_Element__c}"
                                                                                                assignTo="{!currentElementId}" />
                                                                                    {!nsew.elementName}
                                                                                </apex:commandLink>
                                                                            </div>
                                                                        </td>
                                                                        <td><apex:outputField value="{!nsew.negoScopeElem.Negoptim__Choice__c}" /></td>
                                                                        <td class="slds-text-align_center">
                                                                            <button id="deleteElement" class="slds-button slds-button_icon-bare slds-button_icon"
                                                                                    onclick="onDeleteSructureElement('{!nsew.negoScopeElem.Negoptim__Structure_Element__c}');unselectElt('{!nsew.negoScopeElem.Negoptim__Structure_Element__c}');return false;">
                                                                                <svg id="delete" class="slds-button__icon slds-button__icon_medium slds-m-around_xxx-small" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                                                     xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                                    <use xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/utility-sprite/svg/symbols.svg#delete')}"></use>
                                                                                </svg>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </apex:repeat>
                                                            </tbody>
                                                        </table>
                                                    </apex:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    
                    <!-- Brand Distributor grid -->
                    <apex:outputPanel id="listBrandsPanel">
                        <apex:outputPanel rendered="{!negoScope.Negoptim__Is_All_Brands__c == false}">
                            <div class="slds-card slds-m-bottom_x-small">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                {!$ObjectType.Negoptim__Sup_Bra_Distributor__c.Label}
                                            </h2>
                                        </div>
                                        <div class="slds-no-flex">
                                            <div class="slds-form-element">
                                                <label class="slds-checkbox_toggle slds-grid">
                                                    <b><span class="slds-form-element__label">{!$ObjectType.Negoptim__NegoScope__c.fields.Negoptim__Incl_NewBrand__c.Label}</span></b>
                                                    <apex:inputCheckbox id="include_brand" value="{!negoScope.Negoptim__Incl_NewBrand__c}" />
                                                    <span id="checkbox-toggle-15" class="slds-checkbox_faux_container" aria-live="assertive">
                                                        <span class="slds-checkbox_faux"></span>
                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                        <div id="searchBrandTypeSection" class="slds-form-element">
                                            <div class="slds-input-has-icon slds-input-has-icon_left-right">
                                                <svg class="slds-icon slds-input__icon slds-icon-text-default slds-m-around--x-small" aria-hidden="true">
                                                    <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#search')}"/>
                                                </svg>
                                                <input type="text" id="brandTypeFilterId" class="slds-input inputNoEnter normalFont"
                                                       placeholder="{!$Label.LBL_Search_Brand_Type}" onkeyup="searchItemFunction(this, 'BrandType', event);" />
                                                <button class="clearButtonBrandType slds-button slds-button_icon slds-input__icon slds-input__icon_right {!IF(brandTypeFilter == null || brandTypeFilter == '','slds-hide','')}" title="Clear" onClick="resetSearchFilters('BrandType');return false;">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg"
                                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#clear')}"/>
                                                    </svg>
                                                    <span class="slds-assistive-text">Clear</span>
                                                </button>
                                            </div>
                                        </div>
                                    </header>
                                </div>
                                <apex:outputPanel layout="block" id="brandTableContent" styleClass="slds-card__body" style="margin:0px !important;">
                                    <apex:outputPanel rendered="{!IF(AND(brandDistributorList != null, brandDistributorList.size > 0), true, false)}" id="brandTable">
                                        <table id="brandTable" class="slds-table slds-table_cell-buffer slds-table_bordered">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Sup_Bra_Distributor__c.fields.Brand__c.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Sup_Bra_Distributor__c.fields.Name.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Sup_Bra_Distributor__c.fields.Brand__c.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Brand__c.fields.Brand_Owner__c.Label}</div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!brandDistributorList}" var="item">
                                                    <tr>
                                                        <td>
                                                            <div class="slds-truncate" title="{!item.brand.Negoptim__Brand__c}">
                                                                <apex:inputCheckbox onclick="processHighlight();processDisplayProduct();" value="{!item.isSelected}" id="selectedBrand" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputLink value="/{!item.brand.Id}" target="_blank"><apex:outputField value="{!item.brand.Name}" /></apex:outputLink>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!item.brand.Negoptim__Brand__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!item.brand.Brand__r.Negoptim__Brand_Owner__c}" />
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!brandDistributorList.size == 0}">
                                        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-border_right slds-border_left">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Sup_Bra_Distributor__c.fields.Negoptim__Brand__c.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Sup_Bra_Distributor__c.fields.Name.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Sup_Bra_Distributor__c.fields.Negoptim__Brand__c.Label}</div>
                                                    </th>
                                                    <th scope="col">
                                                        <div class="slds-truncate">{!$ObjectType.Negoptim__Brand__c.fields.Negoptim__Brand_Owner__c.Label}</div>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="4">
                                                        <div class="slds-text-align_center">
                                                            <apex:outputText value="{!$Label.negoptim__LBL_No_Item_To_Display}" />
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    
                    <!-- Product Group Grid  -->
                    <apex:outputPanel id="pageBlockSectionPG">
                        <apex:outputPanel rendered="{!negoScope.Negoptim__Is_All__c == false}">
                            <div class="slds-card slds-m-bottom_x-small">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                {!$ObjectType.Supplier_PG_Mapping__c.Label}
                                            </h2>
                                        </div>
                                        <div class="slds-col slds-no-flex slds-grid slds-align-top slds-float_right">
                                            <div id="searchSupplierPGSection" class="slds-form-element">
                                                <div class="slds-input-has-icon slds-input-has-icon_left-right">
                                                    <svg class="slds-icon slds-input__icon slds-icon-text-default slds-m-around--x-small" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#search')}"/>
                                                    </svg>
                                                    <input type="text" id="supPGMappingFilterId"
                                                           class="slds-input inputNoEnter normalFont"
                                                           placeholder="{!$Label.LBL_Search_Supplier_PG}"
                                                           onkeyup="searchItemFunction(this,'SupplierPG',event);" />
                                                    <button class="clearButtonSupplierPG slds-button slds-button_icon slds-input__icon slds-input__icon_right {!IF(supPGMappingFilter == null || supPGMappingFilter == '','slds-hide','')}" title="Clear" onClick="resetSearchFilters('SupplierPG');return false;">
                                                        <svg class="slds-button__icon" aria-hidden="true">
                                                            <use xmlns="http://www.w3.org/2000/svg"
                                                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                 xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#clear')}"/>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open  slds-m-left_x-small">
                                                <button class="slds-button slds-button_icon slds-button_icon-border-filled"
                                                        aria-haspopup="true" aria-expanded="true" title="Show More" onClick="handleShowIncludesCheckbox();return false;">
                                                    <svg class="slds-button__icon" aria-hidden="true">
                                                        <use xmlns="http://www.w3.org/2000/svg"
                                                             xmlns:xlink="http://www.w3.org/1999/xlink"
                                                             xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#down')}"/>
                                                    </svg>
                                                    <span class="slds-assistive-text">Show More</span>
                                                </button>
                                                <div id="include_Menu" class="slds-hidden slds-dropdown slds-dropdown_right slds-p-around--x-small slds-dropdown_small">
                                                    <ul class="slds-dropdown__list" role="menu" aria-label="Show More">
                                                        <li class="slds-dropdown__item" role="presentation">
                                                            <apex:inputCheckbox id="include_product" value="{!negoScope.Negoptim__Incl_NewProduct__c}"/>
                                                            <span class="slds-checkbox_faux_container">
                                                                <span class="slds-checkbox_faux"></span>
                                                            </span>
                                                            <b>
                                                                <span class="slds-form-element__label">{!$ObjectType.NegoScope__c.fields.Incl_NewProduct__c.Label}</span>
                                                            </b>
                                                        </li>
                                                        <apex:outputPanel layout="none" rendered="{!negoScope.Negoptim__Is_All_Brands__c}">
                                                            <li id="includeNullBrandsLabel" class="slds-dropdown__item" role="presentation">
                                                                <input type="checkbox" id="checkboxHighlight" onclick="processHighlight();"/>
                                                                <span class="slds-checkbox_faux_container">
                                                                    <span class="slds-checkbox_faux"></span>
                                                                </span>
                                                                <b>
                                                                    <span class="slds-form-element__label">{!$Label.LBL_Include_Products_WO_Brand}</span>
                                                                </b>
                                                            </li>
                                                        </apex:outputPanel>
                                                        <li class="slds-dropdown__item" role="presentation" >
                                                            <input name="showAllProduct" type="checkbox" id="showAllProduct"
                                                                onclick="isShowAllProduct = !isShowAllProduct;processDisplayProduct();"/>
                                                            <span class="slds-checkbox_faux_container">
                                                                <span class="slds-checkbox_faux"></span>
                                                            </span>
                                                            <b>
                                                                <span class="slds-form-element__label">{!$Label.LBL_Show_All_Products}</span>
                                                            </b>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <button id="all_include_product" class="btn slds-button slds-button_icon slds-button_icon-border slds-m-left_x-small"
                                                    reRender="pageBlockSectionPG" title="Select highlighted options only">
                                                <svg class="slds-button__icon" aria-hidden="true">
                                                    <use xmlns="http://www.w3.org/2000/svg"
                                                         xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#mark_all_as_read')}"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </header>
                                </div>

                                <apex:outputPanel layout="block" id="productTableContent" styleClass="slds-card__body" style="margin:0px !important;">
                                    <apex:outputPanel rendered="{!Records.size > 0}"  id="pgTable">
                                        <table id="pgTable" class="slds-table slds-table_cell-buffer slds-table_bordered">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <th scope="col">
                                                        <!--<apex:inputCheckbox id="checkAll" />-->
                                                    </th>
                                                    <!--<th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="EAN__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Supplier_PG_Mapping__c.fields.EAN__c.Label}{!IF(sortField=='EAN__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>-->
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Name.Label}{!IF(sortField=='Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Brand__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Brand__c.Label}{!IF(sortField=='Brand__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Department__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Department__c.Label}{!IF(sortField=='Department__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Section__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Section__c.Label}{!IF(sortField=='Section__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Status__c.Label}{!IF(sortField=='Status__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Sup_NS_PG__c.fields.Negoptim__IsInnovation__c.Label}{!IF(sortField=='IsInnovation__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Sup_NS_PG__c.fields.Negoptim__IsPermanent__c .Label}{!IF(sortField=='IsPermanent__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Sup_NS_PG__c.fields.Negoptim__IsPromo__c.Label}{!IF(sortField=='IsPromo__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Sup_NS_PG__c.fields.Negoptim__IsSeasonal__c.Label}{!IF(sortField=='IsSeasonal__c ',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Sup_NS_PG__c.fields.Negoptim__Status__c.Label}{!IF(sortField=='Status__c  ',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <!--<th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Sup_NS_PG__c.fields.Status_BDate__c.Label}{!IF(sortField=='Status_BDate__c ',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Sup_NS_PG__c.fields.Status_EDate__c.Label}{!IF(sortField=='Status_EDate__c ',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>-->
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!Records}" var="itempg">
                                                    <tr class="pg brand-{!itempg.pg.Negoptim__Brand__c} dep-{!itempg.pg.Department__r.Negoptim__Path__c} sec-{!itempg.pg.Section__r.Negoptim__Path__c}">
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:inputCheckbox value="{!itempg.selected}" id="checkedone" />
                                                            </div>
                                                        </td>
                                                        <!--<td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.EAN__c}" />
                                                            </div>
                                                        </td>-->
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputLink value="/{!itempg.pg.Id}" target="_blank"><apex:outputField value="{!itempg.pg.Name}" /></apex:outputLink>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Negoptim__Brand__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Negoptim__Department__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Negoptim__Section__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Negoptim__Status__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Product__r.Negoptim__IsInnovation__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Product__r.Negoptim__IsPermanent__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Product__r.Negoptim__IsPromo__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.pg.Product__r.Negoptim__IsSeasonal__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.nsPG.Negoptim__Status__c}" />
                                                            </div>
                                                        </td>
                                                        <!--<td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.nsPG.Status_BDate__c}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="slds-truncate">
                                                                <apex:outputField value="{!itempg.nsPG.Status_EDate__c }" />
                                                            </div>
                                                        </td>-->
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!Records.size == 0}">
                                        <table id="pgTable" class="slds-table slds-table_cell-buffer slds-table_bordered slds-border_right slds-border_left">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <th scope="col">
                                                        <!--<apex:inputCheckbox id="checkAll" />-->
                                                    </th>
                                                    <!--<th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="EAN__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Supplier_PG_Mapping__c.fields.EAN__c.Label}{!IF(sortField=='EAN__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>-->
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Name.Label}{!IF(sortField=='Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Brand__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Brand__c.Label}{!IF(sortField=='Brand__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Department__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Department__c.Label}{!IF(sortField=='Department__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Section__r.Name" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Section__c.Label}{!IF(sortField=='Section__r.Name',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                    <th scope="col">
                                                        <apex:commandLink action="{!sortToggle}" rerender="pageBlockSectionPG" status="globalloading" oncomplete="afterReRender();">
                                                            <apex:param name="sortField" value="Status__c" assignTo="{!sortField}" />
                                                            <apex:outputText value="{!$ObjectType.Negoptim__Supplier_PG_Mapping__c.fields.Negoptim__Status__c.Label}{!IF(sortField=='Status__c',IF(sortDirection='asc','',''),'')}" />
                                                        </apex:commandLink>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="6">
                                                        <div class="slds-text-align_center">
                                                            <apex:outputText value="{!$Label.negoptim__LBL_No_Item_To_Display}" />
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                                <apex:outputPanel id="productTableControl">
                                    <apex:outputPanel rendered="{!IF(nbSupPG != null, true, false)}">
                                        <div class="slds-card-wrapper">
                                            <div class="slds-button-group" role="group">
                                                <apex:selectList value="{!size}" multiselect="false" size="1" onchange="refreshPageSize();">
                                                    <apex:selectOptions value="{!paginationSizeOptions}"/>
                                                </apex:selectList>
                                                <apex:commandButton styleClass="slds-button slds-button_neutral" status="fetchStatus" reRender="pgTable, productTableControl, Messages" value="{!$Label.negoptim__LBL_First}" action="{!first}" disabled="{!!setCtrlr.hasPrevious}" title="{!$Label.negoptim__LBL_First}" oncomplete="afterReRender()" />
                                                <apex:commandButton styleClass="slds-button slds-button_neutral" status="fetchStatus" reRender="pgTable, productTableControl, Messages" value="{!$Label.negoptim__LBL_Previous}" action="{!previous}" disabled="{!!setCtrlr.hasPrevious}" title="{!$Label.negoptim__LBL_Previous}" oncomplete="afterReRender()" />
                                                <apex:commandButton styleClass="slds-button slds-button_neutral" status="fetchStatus" reRender="pgTable, productTableControl, Messages" value="{!$Label.negoptim__LBL_Next}" action="{!next}" disabled="{!!setCtrlr.hasNext}" title="{!$Label.negoptim__LBL_Next}" oncomplete="afterReRender()" />
                                                <apex:commandButton styleClass="slds-button slds-button_neutral" status="fetchStatus" reRender="pgTable, productTableControl, Messages" value="{!$Label.negoptim__LBL_Last}" action="{!last}" disabled="{!!setCtrlr.hasNext}" title="{!$Label.negoptim__LBL_Last}" oncomplete="afterReRender()" />
                                                <div class="slds-badge slds-m-around_xx-small slds-p-left_xx-small">
                                                    <apex:outputText rendered="{!noOfRecords > 0}" style="text-align: right" >{!(setCtrlr.pageNumber * size)+1-size}-{!IF((setCtrlr.pageNumber * size)>noOfRecords, noOfRecords,
                                                        (setCtrlr.pageNumber * size))} of {!noOfRecords}
                                                    </apex:outputText>
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>

                    <!-- addresses and contacts section  -->
                    <!--<apex:outputPanel id="contactspanel">
                        <apex:outputPanel rendered="{!isContactShow == true}">
                            <div class="slds-card slds-m-bottom_x-small">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title slds-p-bottom_xx-small">
                                                {!$Label.LBL_Addresses_And_Contacts}
                                            </h2>
                                        </div>
                                    </header>
                                </div>
                                <div class="slds-card__body slds-card__body_inner">
                                    <table class="tableStyle">
                                        <tbody>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Address_External_Synchro__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Address_External_Synchro__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Address_External_Synchro__c');" onmouseleave="HideToolTip('Admin_Address_External_Synchro__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Address_External_Synchro__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Address_External_Synchro__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="allhecheckobx"
                                                                     value="{!negoScope.Admin_Address_External_Synchro__c}">
                                                        <apex:actionSupport event="onchange"
                                                                            action="{!setAdminAddressFromSupplier}" reRender="formNegoScope"
                                                                            status="globalloading" oncomplete="afterReRender();" />
                                                    </apex:inputField>
                                                </td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Address_External_Synchro__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Address_External_Synchro__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Address_External_Synchro__c');" onmouseleave="HideToolTip('Acc_Address_External_Synchro__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Address_External_Synchro__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Address_External_Synchro__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="allhecheckobx"
                                                                     value="{!negoScope.Acc_Address_External_Synchro__c}">
                                                        <apex:actionSupport event="onchange"
                                                                            action="{!setAccountAddressFromSupplier}"
                                                                            reRender="formNegoScope" status="globalloading"
                                                                            oncomplete="afterReRender();"/>
                                                    </apex:inputField>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Raison__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Raison__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Raison__c');" onmouseleave="HideToolTip('Admin_Raison__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Raison__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Raison__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Raison__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Raison__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Raison__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Raison__c');" onmouseleave="HideToolTip('Acc_Raison__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Raison__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Raison__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Raison__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    <div style='position: relative;'>
                                                        {!$ObjectType.NegoScope__c.fields.Admin_Phone1__c.Label}
                                                        <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Phone1__c.inlineHelpText), false, true)}">
                                                            <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                    onmouseover="showToolTip('Admin_Phone1__c');" onmouseleave="HideToolTip('Admin_Phone1__c');" onclick="return false;">
                                                                <svg class="slds-button__icon" aria-hidden="true">
                                                                    <use xmlns="http://www.w3.org/2000/svg"
                                                                         xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                         xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                                </svg>
                                                                <span class="slds-assistive-text"></span>
                                                            </button>
                                                            <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Phone1__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                                <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Phone1__c.inlineHelpText}</div>
                                                            </div>
                                                        </apex:outputPanel>
                                                    </div>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Phone1__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Phone1__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Phone1__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Phone1__c');" onmouseleave="HideToolTip('Acc_Phone1__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Phone1__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Phone1__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Phone1__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Phone2__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Phone2__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Phone2__c');" onmouseleave="HideToolTip('Admin_Phone2__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Phone2__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Phone2__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Phone2__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Phone2__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Phone2__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Phone2__c');" onmouseleave="HideToolTip('Acc_Phone2__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Phone2__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Phone2__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Phone2__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Fax__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Fax__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Fax__c');" onmouseleave="HideToolTip('Admin_Fax__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Fax__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Fax__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Fax__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Fax__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Fax__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Fax__c');" onmouseleave="HideToolTip('Acc_Fax__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Fax__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Fax__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Fax__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Address1__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Address1__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Address1__c');" onmouseleave="HideToolTip('Admin_Address1__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Address1__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Address1__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Address1__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Address1__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Address1__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Address1__c');" onmouseleave="HideToolTip('Acc_Address1__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Address1__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Address1__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Address1__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Address2__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Address2__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Address2__c');" onmouseleave="HideToolTip('Admin_Address2__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Address2__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Address2__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Address2__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Address2__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Address2__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Address2__c');" onmouseleave="HideToolTip('Acc_Address2__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Address2__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Address2__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Address2__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_PostCode__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_PostCode__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_PostCode__c');" onmouseleave="HideToolTip('Admin_PostCode__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_PostCode__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_PostCode__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_PostCode__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_PostCode__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_PostCode__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_PostCode__c');" onmouseleave="HideToolTip('Acc_PostCode__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_PostCode__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_PostCode__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_PostCode__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_City__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_City__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_City__c');" onmouseleave="HideToolTip('Admin_City__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_City__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_City__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_City__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_City__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_City__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_City__c');" onmouseleave="HideToolTip('Acc_City__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_City__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_City__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_City__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Country__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Country__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Country__c');" onmouseleave="HideToolTip('Admin_Country__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Country__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Country__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Country__c}" /></td>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Country__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Country__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Country__c');" onmouseleave="HideToolTip('Acc_Country__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}" onclick="return false;"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Country__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Country__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Country__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Admin_Contact__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Admin_Contact__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Admin_Contact__c');" onmouseleave="HideToolTip('Admin_Contact__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Admin_Contact__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Admin_Contact__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Admin_Contact__c}" /></td>
                                                <td  class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Acc_Contact__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Acc_Contact__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Acc_Contact__c');" onmouseleave="HideToolTip('Acc_Contact__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Acc_Contact__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Acc_Contact__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Acc_Contact__c}"/></td>
                                            </tr>
                                            <tr>
                                                <td class="col1"></td>
                                                <td class="col2"></td>
                                                <td  class="col1">
                                                    {!$ObjectType.NegoScope__c.fields.Accounting_Code__c.Label}
                                                    <apex:outputPanel layout="none" rendered="{!IF(ISBLANK($ObjectType.NegoScope__c.fields.Accounting_Code__c.inlineHelpText), false, true)}">
                                                        <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true"
                                                                onmouseover="showToolTip('Accounting_Code__c');" onmouseleave="HideToolTip('Accounting_Code__c');" onclick="return false;">
                                                            <svg class="slds-button__icon" aria-hidden="true">
                                                                <use xmlns="http://www.w3.org/2000/svg"
                                                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                     xlink:href="{!URLFOR($Asset.SLDS, '/assets/icons/utility-sprite/svg/symbols.svg#info')}"/>
                                                            </svg>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                        <div class="slds-popover slds-popover_tooltip slds-m-left_small slds-nubbin_left-top-corner popup_Accounting_Code__c slds-hide" role="tooltip" id="help" style="position:absolute;">
                                                            <div class="slds-popover__body">{!$ObjectType.NegoScope__c.fields.Accounting_Code__c.inlineHelpText}</div>
                                                        </div>
                                                    </apex:outputPanel>
                                                </td>
                                                <td class="col2"><apex:inputField value="{!negoScope.Accounting_Code__c}"/></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </apex:outputPanel>
                    </apex:outputPanel>-->
                </div>
                <apex:outputPanel id="highlightJS">
                    <script>
                    /**
                        * @description
                        * remove all highlights
                        * highlight pg of selected brands
                        * A-if all_brand_checkbox is checked and all_he_checkbox is checked, highlight all pg
                        * B-if all_he_checkbox is NOT checked
                        *   0-if root included highlight all pg
                        *   1-push departments of choice 'included' into array includedDepartments
                        *   2-push departments of choice 'excluded' into array excludedDepartments
                        *   3-push sections of choice 'included' or blank into array includedSections
                        *   4-push sections of choice 'excluded' into array excludedSections
                        *   5-loop over arrays to add or remove highlight
                        *   6-if all_brand_checkbox is NOT checked, remove highlight from unselected brands
                        * C-if all_brand_checkbox is NOT checked and all_he_checkbox is checked, add highlight to selected brands
                        *
                        **/
                    function processHighlight() {
                        $('.pg').removeClass('highlighted');
                        var includedDepartments = [];
                        var excludedDepartments = [];
                        var includedSections = [];
                        var excludedSections = [];
                        var rootIncluded = false;

                        var strutureElementTableObj = $('#selected-structure-element-table tr'); //structure element table
                        var brandTableInputCheckbox = $("[id*='brandTable'] input"); //brand table
                        var brandTableCheckedInputs = []
                        var brandTableUncheckedInputs = []
                        /**
                        *   Don't change the '`'
                        **/
                        if ($('input.allbrandcheckbox').prop('checked') == true && $('input.allhecheckobx').prop('checked') == true) {
                            $('.pg').addClass('highlighted');
                            return;
                        } else {
                            $('.pg').removeClass('highlighted');
                        }
                        if (!$('input.allhecheckobx').prop('checked')) {
                            /// var highlighted = document.querySelector(".checkboxHighlight");
                            var highlighted = document.getElementById("checkboxHighlight");
                            let excIncMap = {};
                            strutureElementTableObj.each(function() { // loop on Structure element table
                                if ($(this).attr('id') != null) {
                                    var elemId = $(this).attr('id').split("-");
                                    if (!excIncMap.hasOwnProperty(elemId[2])) {
                                        excIncMap[elemId[2]] = {exc:[],inc:[]};
                                    }
                                    if(elemId[2] == 0) { // all department is included (root)
                                        $('.pg').addClass('highlighted');
                                        rootIncluded = true;
                                    }
                                    if (elemId[0] == 'Exclude') {
                                        excludedDepartments.push(elemId[3]);
                                        excIncMap[elemId[2]].exc.push(elemId[3]);
                                    } else {
                                        includedDepartments.push(elemId[3]);
                                        excIncMap[elemId[2]].inc.push(elemId[3]);
                                    }
                                }
                            });
                            Object.keys(excIncMap).sort((key1,key2) => key1 - key2).forEach(level=> {
                                let item = excIncMap[level];
                                item.exc.forEach(exc =>{
                                    $("[class*='dep-" + exc + "']").removeClass('highlighted');
                                    $("[class*='sec-" + exc + "']").removeClass('highlighted');
                                });
                                item.inc.forEach(inc =>{
                                    $("[class*='dep-" + inc + "']").addClass('highlighted');
                                    $("[class*='sec-" + inc + "']").addClass('highlighted');
                                });
                            });
                            if(highlighted && highlighted.checked) {
                                $('.brand-').addClass('highlighted');
                            } else {
                                $('.brand-').removeClass('highlighted');
                            }
                            if ($('input.allbrandcheckbox').prop('checked') == false) {
                                let brandExists = false;
                                brandTableInputCheckbox.each(function() {
                                    brandExists = true;
                                    var brandId = $(this).parent().prop('title');
                                    if ($(this).prop('checked') == true) {
                                        $('.brand-' + brandId).addClass('highlighted');
                                    } else {
                                        $('.brand-' + brandId).removeClass('highlighted');
                                    }
                                });
                                if (!brandExists) {
                                    $('.pg').removeClass('highlighted');
                                }
                            }
                        }
                        if ($('input.allbrandcheckbox').prop('checked') == false && $('input.allhecheckobx').prop('checked') == true) {
                            let checkNulls = true;
                            brandTableInputCheckbox.each(function() {
                                /// var highlighted = document.querySelector(".checkboxHighlight");
                                var highlighted = document.getElementById("checkboxHighlight");
                                if (highlighted && highlighted.checked) {
                                        $('.brand-').addClass('highlighted');
                                    if ($(this).prop('checked') == true) {
                                        var brandId = $(this).parent().prop('title');
                                        $('.brand-' + brandId).addClass('highlighted');
                                    }
                                } else {
                                    if ($(this).prop('checked') == true) {
                                        var brandId = $(this).parent().prop('title');
                                        $('.brand-' + brandId).addClass('highlighted');
                                        checkNulls = false;
                                    }
                                }
                            });
                        }
                    }
                    </script>
                </apex:outputPanel>
            </apex:form>
            <script>
            var openInfoMessage = false;
            var isShowAllProduct = false;
            $(document).ready(function() {
                afterReRender();
                let toggleButton = document.getElementById('filter-panel-toggle');
                let elem = document.getElementById("infoMessage");
                if (toggleButton) {
                    toggleButton.classList.add('slds-is-selected');
                    elem.classList.remove("slds-hide");
                    openInfoMessage = true;
                }
            });
            var checkedBrandId = [];
            var checkSecDepId = [];
            window.onscroll = function() {fixedHeader()};
            function searchItemFunction(element,searchItemString,event){
                toggleClear(element,'clearButton' + searchItemString);
                searchItem(searchItemString, event, element.value);
            }
            var lexOrigin = '{!lexOrigin}';
            function raiseEvent() {
                window.parent.postMessage('savens_' + '{!negoScope.Id}' + '_' + '{!JSINHTMLENCODE(negoScope.Name)}', lexOrigin);
            }
            function raiseCloseEvent() {
                window.parent.postMessage('closens', lexOrigin);
            }
            function cancelEvent() {
                let isSupplierFilledByDefault = {!isSupplierFilledByDefault};
                if(isSupplierFilledByDefault) {
                    raiseCloseEvent();
                } else {
                    cancel();
                }
            }
            function toggleClear(element,clearButtonString){
                let clearButton = document.querySelector('.' + clearButtonString);
                if(clearButton && element){
                    if(element.value && element.value != ''){
                        clearButton.classList.remove('slds-hide');
                    } else {
                        clearButton.classList.add('slds-hide');
                    }
                }
            }
            function searchItem(searchItemString, event, value){
                if (event.keyCode == 13) {
                    if(searchItemString == 'StructureElement') {
                        refreshChildren(value);
                    } else if(searchItemString == 'BrandType') {
                        refreshBrandType(value);
                    } else if(searchItemString == 'SupplierPG') {
                        refreshSupPGMapping(value);
                    }
                    return false;
                }
            }
            function fixedHeader() {
                var header = document.getElementById("pageHeader");
                var sticky = $(header).outerHeight();
                if (window.pageYOffset > sticky) {
                    header.classList.add("sticky");
                } else {
                    header.classList.remove("sticky");
                }
            }
            function afterReRender() {
                try{
                    var ShowAllProduct = document.getElementById("showAllProduct");
                    ShowAllProduct.checked = this.isShowAllProduct;
                    if (!$('input.allhecheckobx').prop('checked') || !$('input.allbrandcheckbox').prop('checked')) {
                        $("[id*='showAllProduct']").removeAttr("disabled");
                    } else {
                        $("[id*='showAllProduct']").attr("disabled", "disabled");
                        $("[id*='showAllProduct']").prop("checked", false);
                    }
                    let inputs = document.querySelectorAll(".inputNoEnter");
                    if (inputs) {
                        for (let item of inputs) {
                            item.addEventListener("keypress", function(e) {
                                code = e.keyCode ? e.keyCode : e.which;
                                if (code.toString() == 13) {
                                    e.preventDefault();
                                }
                            });
                        }
                    }
                    processHighlight();
                    $("#all_include_product").click(function() {
                        event.preventDefault();
                        $("[id*='pgTable'] input").prop("checked", false);
                        $("tr.highlighted input").prop("checked", true);
                        $("[id*='saveButton']").attr("disabled", "disabled");
                        $("[id*='saveButton']").addClass("btnDisabled");
                        var highlighted = document.getElementById("checkboxHighlight");
                        selectAllHighlighted(highlighted&&highlighted.checked);
                    });
                    window.onscroll = function() {fixedHeader()};
                    fixedHeader();
                    toggleInfoMessage();
                }catch(e){
                    console.log('exception>>'+e );
                }
                let messages = document.getElementsByClassName('message');
                let isSupplierFilledByDefault = {!isSupplierFilledByDefault};
                if (messages && messages.length > 0 && isSupplierFilledByDefault) {
                    var classList = JSON.stringify(messages[0].classList);
                    if (classList && classList.includes('confirmM3')) {
                        raiseEvent();
                    }
                }
            }
            function enableSaveButton() {
                $("[id*='saveButton']").removeAttr("disabled");
                $("[id*='saveButton']").removeClass("btnDisabled");
            }
            
            function showToolTip (fieldName) {
                event.preventDefault();
                event.stopPropagation();
                let fieldToolTip = document.querySelector('.popup_' + fieldName);
                if (fieldToolTip) {
                    fieldToolTip.classList.remove('slds-hide');
                    checkPosition(fieldToolTip);
                }
            }
            
            function HideToolTip (fieldName) {
                event.preventDefault();
                event.stopPropagation();
                let fieldToolTip = document.querySelector('.popup_' + fieldName);
                if (fieldToolTip) {
                    fieldToolTip.classList.add('slds-hide');
                }
            }
            function checkPosition(el) {
                if(el.classList.contains('slds-nubbin_bottom-left')) el.classList.remove('slds-nubbin_bottom-left');
                if(!el.classList.contains('slds-nubbin_left-top-corner')) el.classList.add('slds-nubbin_left-top-corner');
                el.style.left = '';
                el.style.top = '';
                el.style.position = 'absolute';
                var rect = el.getBoundingClientRect();
                if (window.innerHeight - event.clientY < 100) {
                    el.style.top = event.clientY - rect.height - 20 + 'px';
                    el.style.left = event.clientX - 30 + 'px';
                    el.style.position = 'fixed';
                    if(el.classList.contains('slds-nubbin_left-top-corner')) el.classList.remove('slds-nubbin_left-top-corner');
                    if(!el.classList.contains('slds-nubbin_bottom-left')) el.classList.add('slds-nubbin_bottom-left');
                }
            }
            
            function toggleInfoMessage() {
                let toggleButton = document.getElementById('filter-panel-toggle');
                let elem = document.getElementById("infoMessage");
                if (toggleButton) {
                    if (!openInfoMessage) {
                        toggleButton.classList.remove('slds-is-selected');
                        elem.classList.add("slds-hide");
                    } else if (openInfoMessage) {
                        toggleButton.classList.add('slds-is-selected');
                        elem.classList.remove("slds-hide");
                    }
                }
            }
            function handleShowIncludesCheckbox() {
                let ShowIncludesCheckbox = document.getElementById('include_Menu');
                if (ShowIncludesCheckbox && ShowIncludesCheckbox.classList) {
                    ShowIncludesCheckbox.classList.toggle('slds-hidden');
                }
            }
            function processDisplayProduct() {
                onlyDisplayFilterPG(this.isShowAllProduct);
            }
            /*function cancelEdit() {
                //window.history.back();
                //console.log('history ::: '+JSON.stringify(document.referrer));
                //window.location.href = document.referrer;
            }*/
            function toggleWaitting(toggleWelcome) {
                document.querySelector('body').classList.add('wait');
                if (toggleWelcome) {
                    let welcomeLoading = document.querySelector('#welcomeLoading');
                    if (welcomeLoading) welcomeLoading.classList.remove('slds-hide');
                }
            }
            function toggleStopWaitting() {
                document.querySelector('body').classList.remove('wait');
                let welcomeLoading = document.querySelector('#welcomeLoading');
                if (welcomeLoading) welcomeLoading.classList.add('slds-hide');
            }
            </script>
            <apex:outputPanel layout="block" id="pollerLoading">
                <script>
                if ({!batchInProgress}) {
                    toggleWaitting(true);
                } else {
                    toggleStopWaitting();
                }
            </script>
            </apex:outputPanel>
        </body>
    </html>
</apex:page>